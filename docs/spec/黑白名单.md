## 黑白名单机制

v 0.1

按照目前的场景和技术实现难易程度，目前只设计黑名单机制。


### 黑名单规则

- 对所有机器生效
- 黑名单仅对命令生效
- 需要对整个script内容进行扫描
- 不处理恶意破坏场景（如通过`\`换行拼接命令，如执行时的命令替换）




### 实现

- 在act2-master中提供一个接口用来检测脚本是否在黑名单中
    - 建议上层先过一遍黑白名单机制，以便更好的进行业务设定
- 在act2-master收到脚本后未下发给act2-proxy前，进行黑名单机制过滤
    - 如果出错，则直接返回错误信息
    - 如果成功，则远程执行，返回jid，并后台继续执行
