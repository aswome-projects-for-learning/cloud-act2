## proxy回调超时方案

proxy和master，在任意时间内，都有异常的可能，所以为了保持最终状态一致，采用下面的方案：


1、定时扫描任务表，取出还在执行中，但已经超时的任务，然后设置状态未超时：
     - 多个master同时扫描数据库的时候，会有多次更新

2. 网络抖动的时候，proxy回调master，出现timeout或者异常，master直接设置为超时不是很合理。  （version: 0.2）
     - 参考支付宝的支付的回调策略，是每隔多少时间（会在上一次回调时间上*2）回调一次，然后总共回调几次后仍旧失败的，master可以设置为超时。


## 相关设计：

- 在cloud-act2.yaml中添加

```yaml

## job超时时间
job_expire:
  ## job超时的定时检测表达式
  expression: 0 0/30 * * * *
  ## job超时时间，单位 s
  expire: 10
```

- 编写定时任务，获取超时的列表
- 判定如果任务已经超时，则直接设置未超时状态：


## 注意点：

为了保证任务超时的时候，任务不会正在写入执行结束的状态:

- 在仅有方案1的时候，需要设置expire的时间，远远超过任务下发的超时时间。
- 在有方案1和方案2的时候，超时的时候，需要考虑任务刚好执行结束写入库的时候，后台超时了


