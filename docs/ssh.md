# ssh client远程执行

## 背景

因为服务器上可能没有安装`salt-minion`服务或者服务器不允许安装额外的服务软件，
但用户希望能够通过我们的平台来管理服务器，如果服务器上已经存在`openssh`，则
我们可以通过`ssh`远程执行命令的方式来管理服务器


## 要求

- ssh host finger需要忽略
- `knownhost`相关的询问，默认都通过，但需要记录日志信息，以备查询
- 可以使用密码方式登录
- 支持密码向远程服务器访问获取(后续版本支持)
- 可以使用密钥方式登录，在服务器上需要配置全局唯一的私钥
- 支持非默认端口（？）
- 脚本的编码，必须是utf-8
- 脚本执行的输出的编码，默认是服务器终端的编码输出（需要转换为utf-8）
- 支持从act2proxy调用ssh进行远程执行

- 使用`golang.org/x/crypto/ssh`作为我们实现的基础库
